<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>O'168</title>

<script type="module" src="https://unpkg.com/@google/model-viewer/dist/model-viewer.min.js"></script>

<style>
body{margin:0;font-family:Arial;background:#0b0b0b;color:#fff}
header{
  display:flex;align-items:center;justify-content:center;
  padding:14px;border-bottom:1px solid #222;position:sticky;top:0;background:#0b0b0b;z-index:10
}
.menu-btn{position:absolute;left:16px;font-size:22px;cursor:pointer}
.logo{font-size:22px;font-weight:bold;cursor:pointer}
.logo span{color:#ff3b3b}

.screen{display:none;padding:16px}
.screen.active{display:block}

.card{
  background:#181818;
  padding:16px;
  border-radius:16px;
  margin-bottom:12px;
  cursor:pointer;
}

.back{margin-bottom:12px;color:#aaa;cursor:pointer}

.option{
  background:#222;padding:12px;border-radius:12px;margin:6px 0;
  display:flex;justify-content:space-between;cursor:pointer
}
.option.active{background:#ff3b3b}

button{
  width:100%;padding:14px;border:none;border-radius:14px;
  background:#ff3b3b;color:white;font-size:16px
}

.cart-icon{
  position:fixed;bottom:20px;right:20px;
  background:#ff3b3b;width:56px;height:56px;border-radius:50%;
  display:flex;align-items:center;justify-content:center;
  font-size:22px;cursor:pointer
}
.cart-count{
  position:absolute;top:-4px;right:-4px;
  background:black;border-radius:50%;width:22px;height:22px;
  display:flex;align-items:center;justify-content:center;font-size:12px
}
</style>
</head>

<body>

<header>
  <div class="menu-btn">‚ò∞</div>
  <div class="logo" onclick="go('home')">O'<span>168</span></div>
</header>

<!-- HOME -->
<div id="home" class="screen active">
  <div class="card" onclick="go('burgers')">üçî Burgers</div>
  <div class="card" onclick="go('tacos')">üåÆ Tacos</div>
  <div class="card" onclick="go('pizzas')">üçï Pizzas</div>
  <div class="card">üç∞ Desserts</div>
  <div class="card">ü•§ Boissons</div>
</div>

<!-- BURGERS -->
<div id="burgers" class="screen">
  <div class="back" onclick="go('home')">‚Üê Retour</div>
  <div class="card" onclick="openProduct('Cheese Burger',9,'models/burger.glb','models/burger.usdz')">
    Cheese Burger ‚Äî 9 ‚Ç¨
  </div>
</div>

<!-- PRODUCT -->
<div id="product" class="screen">
  <div class="back" onclick="go('burgers')">‚Üê Retour</div>

  <model-viewer id="viewer" ar camera-controls auto-rotate
    style="width:100%;height:260px"></model-viewer>

  <h2 id="productName"></h2>

  <div>
    <h3>Boisson (1 incluse)</h3>
    <div class="option active" onclick="select('drink',0,this)">Coca +0‚Ç¨</div>
    <div class="option" onclick="select('drink',0,this)">Sprite +0‚Ç¨</div>
    <div class="option" onclick="select('drink',1.5,this)">Boisson supp +1,50‚Ç¨</div>
  </div>

  <div>
    <h3>Frites</h3>
    <div class="option active" onclick="select('fries',0,this)">Sans</div>
    <div class="option" onclick="select('fries',2,this)">Avec +2‚Ç¨</div>
  </div>

  <div>
    <h3>Sauce</h3>
    <div class="option active" onclick="select('sauce',0,this)">Aucune</div>
    <div class="option" onclick="select('sauce',0.5,this)">Ketchup +0,50‚Ç¨</div>
  </div>

  <p>Total : <strong><span id="price"></span> ‚Ç¨</strong></p>
  <button onclick="addToCart()">Ajouter au panier</button>
</div>

<!-- PANIER -->
<div id="cart" class="screen">
  <div class="back" onclick="go('home')">‚Üê Menu</div>
  <div id="cartItems"></div>
  <p>Total : <strong><span id="cartTotal">0</span> ‚Ç¨</strong></p>
</div>

<div class="cart-icon" onclick="go('cart')">
  üõí <div class="cart-count" id="cartCount">0</div>
</div>

<script>
let basePrice=0;
let currentProduct='';
let options={drink:0,fries:0,sauce:0};
let cart=[];

function go(id){
  document.querySelectorAll('.screen').forEach(s=>s.classList.remove('active'));
  document.getElementById(id).classList.add('active');
}

function openProduct(name,price,glb,usdz){
  currentProduct=name;basePrice=price;
  options={drink:0,fries:0,sauce:0};
  document.getElementById('productName').innerText=name;
  document.getElementById('viewer').src=glb;
  document.getElementById('viewer').setAttribute('ios-src',usdz);
  updatePrice();go('product');
}

function select(type,val,el){
  el.parentElement.querySelectorAll('.option').forEach(o=>o.classList.remove('active'));
  el.classList.add('active');
  options[type]=val;updatePrice();
}

function updatePrice(){
  let t=basePrice+options.drink+options.fries+options.sauce;
  document.getElementById('price').innerText=t.toFixed(2);
}

function addToCart(){
  cart.push({name:currentProduct,price:basePrice+options.drink+options.fries+options.sauce});
  updateCart();
  go('home');
}

function updateCart(){
  let c=document.getElementById('cartItems');
  c.innerHTML='';let total=0;
  cart.forEach((i,idx)=>{
    total+=i.price;
    c.innerHTML+=`<div class="card">${i.name} - ${i.price.toFixed(2)} ‚Ç¨
    <span style="float:right;cursor:pointer" onclick="remove(${idx})">‚ùå</span></div>`;
  });
  document.getElementById('cartTotal').innerText=total.toFixed(2);
  document.getElementById('cartCount').innerText=cart.length;
}

function remove(i){cart.splice(i,1);updateCart();}
</script>

</body>
</html>
