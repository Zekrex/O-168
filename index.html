<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>O'168</title>

<style>
:root{
  --bg:#0f0f0f;
  --card:#1c1c1c;
  --text:#ffffff;
  --accent:#ff3b3b;
}
body{
  margin:0;
  font-family:Arial,Helvetica,sans-serif;
  background:var(--bg);
  color:var(--text);
}
header{
  position:sticky;
  top:0;
  background:var(--bg);
  padding:14px;
  text-align:center;
  font-size:22px;
  font-weight:bold;
  border-bottom:1px solid #222;
}
header span{color:var(--accent)}
header .logo{cursor:pointer}

#cartIcon{
  position:absolute;
  right:16px;
  top:14px;
  cursor:pointer;
}

.screen{display:none;padding:16px;}
.screen.active{display:block;}

.categories{
  display:flex;
  gap:10px;
  overflow-x:auto;
  padding-bottom:10px;
}
.category{
  background:var(--card);
  padding:10px 16px;
  border-radius:20px;
  cursor:pointer;
  white-space:nowrap;
}
.category.active{
  background:var(--accent);
}

.products{
  display:grid;
  grid-template-columns:repeat(auto-fill,minmax(160px,1fr));
  gap:12px;
  margin-top:12px;
}
.product{
  background:var(--card);
  padding:12px;
  border-radius:14px;
  cursor:pointer;
}

button{
  width:100%;
  padding:12px;
  border:none;
  border-radius:10px;
  background:var(--accent);
  color:white;
  font-size:16px;
  margin-top:10px;
}

.option{
  padding:10px;
  border:1px solid #444;
  border-radius:10px;
  margin:8px 0;
  cursor:pointer;
}
.option.active{
  background:var(--accent);
  border-color:var(--accent);
}

.qty{
  display:flex;
  justify-content:space-between;
  align-items:center;
  margin:16px 0;
}
.qty button{
  width:40px;
  height:40px;
  background:#333;
}

.cart-item{
  display:flex;
  justify-content:space-between;
  align-items:center;
  margin-bottom:10px;
}
.cart-item button{
  width:auto;
  background:#333;
  padding:6px 10px;
}
</style>
</head>

<body>

<header>
  <div class="logo" onclick="goHome()">O'<span>168</span></div>
  <div id="cartIcon" onclick="openCart()">ðŸ›’ <span id="cartCount">0</span></div>
</header>

<!-- MENU PRINCIPAL -->
<div id="menu" class="screen active">
  <div class="categories" id="categories"></div>
  <div class="products" id="products"></div>
</div>

<!-- CONFIG PRODUIT -->
<div id="config" class="screen">
  <h2 id="productTitle"></h2>

  <h3>Menu</h3>
  <div class="option" onclick="selectMenu(true)">Menu (+3â‚¬)</div>
  <div class="option" onclick="selectMenu(false)">Sans menu</div>

  <div class="qty">
    <button onclick="changeQty(-1)">âˆ’</button>
    <div id="qty">1</div>
    <button onclick="changeQty(1)">+</button>
  </div>

  <button onclick="addToCart()">Ajouter au panier</button>
</div>

<!-- PANIER -->
<div id="cart" class="screen">
  <h2>Panier</h2>
  <div id="cartItems"></div>
  <strong>Total : <span id="total">0</span> â‚¬</strong>
</div>

<script>
const data={
  Burgers:[
    {name:"Classic Burger",price:8},
    {name:"Cheese Burger",price:9}
  ],
  Tacos:[
    {name:"Tacos Poulet",price:7},
    {name:"Tacos Mixte",price:8}
  ]
};

let currentCat="Burgers";
let currentProduct=null;
let isMenu=null;
let qty=1;
let cart=[];

const cats=document.getElementById("categories");
const prods=document.getElementById("products");

Object.keys(data).forEach(c=>{
  const d=document.createElement("div");
  d.className="category"+(c===currentCat?" active":"");
  d.textContent=c;
  d.onclick=()=>selectCat(c,d);
  cats.appendChild(d);
});

function selectCat(c,el){
  document.querySelectorAll(".category").forEach(x=>x.classList.remove("active"));
  el.classList.add("active");
  currentCat=c;
  renderProducts();
}

function renderProducts(){
  prods.innerHTML="";
  data[currentCat].forEach(p=>{
    const d=document.createElement("div");
    d.className="product";
    d.innerHTML=`<strong>${p.name}</strong><br>${p.price} â‚¬`;
    d.onclick=()=>openConfig(p);
    prods.appendChild(d);
  });
}
renderProducts();

function openConfig(p){
  currentProduct=p;
  isMenu=null;
  qty=1;
  document.getElementById("qty").innerText=qty;
  document.querySelectorAll(".option").forEach(o=>o.classList.remove("active"));
  document.getElementById("productTitle").innerText=p.name;
  show("config");
}

function selectMenu(val){
  isMenu=val;
  document.querySelectorAll(".option").forEach(o=>o.classList.remove("active"));
  event.target.classList.add("active");
}

function changeQty(v){
  qty=Math.max(1,qty+v);
  document.getElementById("qty").innerText=qty;
}

function addToCart(){
  let price=currentProduct.price+(isMenu?3:0);
  cart.push({name:currentProduct.name,price,qty});
  document.getElementById("cartCount").innerText=cart.length;
  goHome();
}

function openCart(){
  renderCart();
  show("cart");
}

function renderCart(){
  let html="",total=0;
  cart.forEach((i,idx)=>{
    total+=i.price*i.qty;
    html+=`
      <div class="cart-item">
        ${i.name} x${i.qty}
        <button onclick="cart.splice(${idx},1);renderCart()">âœ•</button>
      </div>`;
  });
  document.getElementById("cartItems").innerHTML=html;
  document.getElementById("total").innerText=total;
}

function show(id){
  document.querySelectorAll(".screen").forEach(s=>s.classList.remove("active"));
  document.getElementById(id).classList.add("active");
}
function goHome(){show("menu");}
</script>

</body>
</html>
